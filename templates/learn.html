{% extends "layout.html" %}

{% block content %}
<div class="content-container">
    <div class="row learning-module" id="item-row">
        <div class="col-md-8">
            <div class="item-detail">
                <!-- Title with accent border bottom -->
                <h1 class="item-title">
                    {{item.title}}
                </h1>
                
                <!-- Main visualization with shadow and border -->
                <div class="image-container">
                    <img src="{{ item.image }}" class="img-fluid" id="img-style" alt="{{item.title}} image">
                </div>
            </div>
        </div>
        
        <div class="col-md-4" id="search_results">
            <!-- Description with improved typography -->
            <div class="description-container">
                <p class="desc">{{item.description}}</p>
                
                <!-- Key concept highlight box for important information -->
                <div class="key-concept">
                    <p class="mb-0"><strong>Key Point:</strong> 
                        {% if "Goalkeeper" in item.title %}
                            Only player who can use hands within the penalty area
                        {% elif "Defenders" in item.title %}
                            Focus on tackling and positioning to prevent goals
                        {% elif "Midfielders" in item.title %}
                            Connect defense to attack, control the game's tempo
                        {% elif "Forwards" in item.title %}
                            Main goal scorers focused on the final third of the pitch
                        {% else %}
                            Teams use different formations based on tactical approach
                        {% endif %}
                    </p>
                </div>
            </div>

            <!-- Improved navigation buttons with better spacing and styling -->
            <div class="navigation-buttons">
                <!-- Previous button -->
                {% if item.id|int > 1 %}
                    <a class="btn btn-outline-primary" href="/learn/{{item.id|int - 1}}">
                        <i class="bi bi-arrow-left"></i> Previous
                    </a>
                {% else %}
                    <!-- Empty div to maintain flex layout -->
                    <div></div>
                {% endif %}
            
                <!-- Conditional logic for Next or Quiz button -->
                {% if item.id|int < 5 %}
                    <!-- Next button -->
                    <a class="btn btn-primary" href="/learn/{{item.id|int + 1}}">
                        Next <i class="bi bi-arrow-right"></i>
                    </a>
                {% else %}
                    <!-- Quiz button if last item -->
                    <a class="btn btn-success" href="/quiz/1">
                        Start Quiz <i class="bi bi-check-circle"></i>
                    </a>
                {% endif %}
            </div>
            
            <!-- Learning progress indicator -->
            <div class="text-center mt-4">
                <p class="text-muted">Progress: {{ item.id }} of 5</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Add Bootstrap icons 
    document.head.insertAdjacentHTML('beforeend', 
        '<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">');
    
    // Highlight active nav link
    document.addEventListener('DOMContentLoaded', function() {
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            if (link.getAttribute('href').includes('learn')) {
                link.classList.add('active');
            }
        });
    });
    
    let my_item = {{ item | tojson }};
</script>
{% endblock %}